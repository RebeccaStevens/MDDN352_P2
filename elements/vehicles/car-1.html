<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../entity-bone-model/entity-bone-model.html">
<link rel="import" href="../model-bone/model-bone.html">

<polymer-element name="car-1" extends="entity-bone-model">
  <template>
    <style>
    :host{
      position: relative;
    }
		:host(.show-bones) model-bone::shadow svg{
		  display: block;
		}
		img{
		  position: absolute;
		}
		#body > img{
		  top: -300px;
		  left: -55px;
		}
    #fwheel > img,
    #rwheel > img{
      top: -31px;
      left: -27px;
    }
    #rwheel{
      top: -2px;
    }
    </style>
    <model-bone id="root" length="0" angle="0">
      <content></content>
	    <model-bone id="body" length="257" angle="0">
	      <img src="../../images/car-1-body.png">
	      <model-bone id="rwheel" length="30" angle="0">
	        <img src="../../images/car-1-r-wheel.png">
	      </model-bone>
	    </model-bone>
	    <model-bone id="fwheel" length="30" angle="0">
        <img src="../../images/car-1-f-wheel.png">
      </model-bone>
	  </model-bone>
  </template>
  <script>
    Polymer({
      ready: function(){
    	  this.super();
      },
      animate: function(time_step){
    	  this.super([time_step, 0]);
    	  this.animateFrontWheel(time_step, 2.5 * this.vel_x);
    	  this.animateRearWheel (time_step, 2.5 * this.vel_x);
      },
      animateFrontWheel: function(time_step, speed){
    	  this.$.fwheel.angle += speed * time_step;
      },
      animateRearWheel: function(time_step, speed){
        this.$.rwheel.angle += speed * time_step;
      },
    });
  </script>
</polymer-element>